<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title></title>

	<link href="/aspx_Pages/scriptCombiner.ashx?s=HomePage_CSS&ct=css" type="text/css" rel="stylesheet" />

	

	
	<script src="/aspx_Pages/scriptCombiner.ashx?s=WebServices_JS" type="text/javascript"></script>
	<script src="/aspx_Pages/scriptCombiner.ashx?s=DataTable_JS" type="text/javascript"></script>

	<script type="text/javascript">

		var showLoginDialog = false;
		//var message = "delete the password value: <input type='password' value='baaa' id ='pwd'/>";
		var message = "using text field: <input type='text' value='123' id ='pwd'/> <br/>" + 
					  "using password field: <input type='password' value='123' id ='pwd'/>" 	;
		var title = "Chrome CPU Spike test";

		var showDialog = function ()
		{
			$("<div>{0}</div>".format(message)).dialog({ title: title });
		}

		var showTableData = function ()
		{
			var tableOptions = TM.WebServices.Data.lastDataTableData;

			dataTableData =
					{
						bPaginate: false
					};

			dataTableData.aoColumns = [{ "sTitle": "Index", "sWidth": "5%" }, { "sTitle": "Title", "sWidth": "50%" }, { "sTitle": "Technology" }, { "sTitle": "Phase", "sWidth": "15%" }, { "sTitle": "Type", "sWidth": "15%" }, { "sTitle": "Category", "sWidth": "15%" }, { "sTitle": "Guid"}]


			var sampleItem = ["1", "2", "3", "4", "5", "6", "7"]
			var aaData = [];
			var itemsToAdd = 500;

			for (var i = 0; i < itemsToAdd; i++)
			{
				aaData.push(sampleItem)
			}

			dataTableData.aaData = aaData;
			$("body").append("<table id='Table1' style='width: 95%'><thead/><tbody/></table>");
			
			$('#Table1').dataTable(dataTableData)

		}

/*		var createHtmlTable = function ()
		{
			$("body").append("<table id='Table1' style='width: 100%'><thead/><tbody/></table>");

			var columns = "<tr><th>A</th><th>B</th><th>C</th><th>D</th><th>E</th><th>F</th><th>G</th></tr>";
			var rowHtml = "<tr class='odd' ><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td><td>7</td></tr>" + 
						  "<tr class='even'><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td><td>7</td></tr>";;
			


			$("#Table1 thead").append(columns);
			var rowsToCreate = 300;
			for (var i = 0; i < rowsToCreate; i++)			
				$("#Table1 tbody").append(rowHtml);
		}

		
*/

		var solutionA_HideAndShow_BottomRows = function()
			{
				var rows = $("#Table1 tr");
				var bottomRows = rows.slice(10,rows.length - 21);
				bottomRows.toggle();
			};

		var createTestCase = function ()
		{
			showTableData();			
			//createHtmlTable();
			showDialog()

			//$("#links").append($("<a href='#'>").append("open Dialog").click(showDialog));
			$("#links").append($("<a href='#'>").append("Solution #1: Hide & Show Bottom Rows").click(solutionA_HideAndShow_BottomRows));
			$("a").css({ padding : '5px'} );
		}

		$(createTestCase);

	</script>
</head>
<body>
	<h1>Chrome CPU Spype POC</h1>
	delete the password value in the popup dialog to see the problem		
	<br /><br />
	<div id='links'></div>	
	<br />
	<br />
</body>
</html>
